<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Provisioning Simulator</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
    <style>
        body { background: #111; color: #eee; font-family: 'Consolas', monospace; padding: 20px; }
        #console { 
            background: #000; border: 1px solid #333; height: 500px; 
            overflow-y: auto; padding: 10px; margin-bottom: 20px;
            box-shadow: 0 0 10px rgba(0,255,0,0.1);
        }
        .line { margin: 2px 0; }
        .SYSTEM { color: #0ff; font-weight: bold; }
        .SUCCESS { color: #0f0; }
        .WARN { color: #ff0; }
        .ERROR { color: #f00; }
        .DEBUG { color: #555; }
        .INFO { color: #ccc; }
        input, button { 
            padding: 10px; background: #222; border: 1px solid #444; color: #fff; 
            font-family: inherit; cursor: pointer;
        }
        button:hover { background: #333; }
    </style>
</head>
<body>
    <h1>Account Provisioning Simulator</h1>
    <div id="console"></div>
    <div>
        <input type="number" id="amount" value="5" min="1" max="10">
        <button onclick="run()">Start Simulation</button>
    </div>

    <script>
        const socket = io();
        const con = document.getElementById('console');

        socket.on('log', (data) => {
            const div = document.createElement('div');
            div.className = `line ${data.type}`;
            div.textContent = `> [${data.type}] ${data.message}`;
            con.appendChild(div);
            con.scrollTop = con.scrollHeight;
        });

        function run() {
            const amt = document.getElementById('amount').value;
            fetch('/start', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({amount: amt})
            });
        }
    </script>
</body>
</html>